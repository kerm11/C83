<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yc.damai.dao.DmOrderitemMapper">	
		<!-- 自定义的字段映射 -->
	<resultMap type="com.yc.damai.po.DmOrderitem" id="rmdo" >
		<!-- id 永远定义主键映射关系  主键在mybatis有特殊的作业 ==》缓存 -->		
		<!-- 一对一关联查询  
			select 用于指定完成关联查询的sql的id  ==》命名空间+sql.id
		 -->
		<association property="dmProduct"  column="pid" select="com.yc.damai.dao.DmProductMapper.selectById">		
		</association>	
	</resultMap>
	<!-- id 是该select标签的唯一标识
			resultType 表示返回的结果映射到的实体类的类型	
								简单自动映射
			resultMap 		自定义映射		
	 -->
	<select id="selectById" resultMap="rmdo">
		select * from dm_orderitem where id=#{id}
	</select>
	
	<insert id="insert" >
		insert into dm_orderitem values ( null, #{count}, #{total},  #{pid}, #{oid})
	</insert>

</mapper>